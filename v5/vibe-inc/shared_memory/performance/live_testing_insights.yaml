# Live testing insights — issues discovered during real API testing.
# Referenced by operators during optimization. Updated as issues are resolved.

meta_ad_ops:
  status: validated  # agent loop works end-to-end
  discovered: 2026-02-20
  issues:
    - id: meta-rate-limit
      severity: high
      summary: "N+1 query pattern triggers Meta API rate limit (Error 17 / Subcode 2446079)"
      detail: |
        meta_ads_read iterated campaigns individually then called get_insights per campaign.
        For accounts with many campaigns, this caused O(N) API calls and triggered rate limiting.
        First live test succeeded (~118s), second run hit rate limit.
      fix: |
        FIXED (2026-02-21): Replaced per-campaign iteration with single account-level insights:
          account.get_insights(fields=..., params={"level": "campaign", ...})
        Result: 118s → 1.09s, no more rate limiting on consecutive runs.
      status: fixed

    - id: meta-fields-string
      severity: low
      summary: "LLM may pass fields param as comma-separated string instead of list"
      detail: |
        When Claude calls meta_ads_read with fields argument, it may serialize as
        "spend, impressions, clicks" (string) instead of ["spend", "impressions", "clicks"] (list).
        facebook_business SDK iterates the string char-by-char, producing harmless warnings.
      fix: "Applied — string-to-list coercion added in meta_ads_read"
      status: fixed

hubspot_crm_ops:
  status: validated  # contact_get works, 0.5s response
  discovered: 2026-02-20
  issues: []

google_ad_ops:
  status: pending  # credentials not yet available
  issues: []
